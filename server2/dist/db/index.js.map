{"version":3,"sources":["../../src/db/index.js"],"names":["dotenv","config","console","log","connectWithRetry","mongoose","connect","useNewUrlParser","connection","on","error","setTimeout","callback"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACAA,iBAAOC,MAAP;;AAEA;;AAEAC,QAAQC,GAAR,CAAY,kBAAZ;;AAGA;AACA,IAAMC,mBAAmB,SAAnBA,gBAAmB,GAAM;AACvB,WAAOC,mBAASC,OAAT,CAAiB,wCAAjB,EAA2D,EAAEC,iBAAiB,IAAnB,EAA3D,CAAP;AACP,CAFD;;AAIAF,mBAASG,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAM;AACtCP,YAAQC,GAAR,CAAY,yCAAZ;AACH,CAFD;;AAIAE,mBAASG,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAACC,KAAD,EAAW;AACvCR,YAAQC,GAAR,CAAY,kCAAZ,EAAgDO,KAAhD;AACAC,eAAWP,gBAAX,EAA6B,IAA7B;AACH,CAHD;;AAKA,IAAME,UAAU,SAAVA,OAAU,GAAM;AAClBF;AACH,CAFD;;kBAIe,UAACQ,QAAD,EAAc;AACzBN;AACAM,aAAS,EAAT;AAIH,C","file":"index.js","sourcesContent":["import mongoose, { mongo } from 'mongoose'\nimport dotenv from 'dotenv'\ndotenv.config()\n\n//require('now-env')\n\nconsole.log(\"db starting-----\")\n\n\n//mongoose.connect(\"mongodb+srv://malagath:qwerty123?@cluster0-7eftm.mongodb.net/Waitlist?retryWrites=true\",{ useNewUrlParser: true });\nconst connectWithRetry = () => {\n        return mongoose.connect(\"mongodb://localhost:27017/leaseservice\", { useNewUrlParser: true })\n}\n\nmongoose.connection.on('connected', () => {\n    console.log(\"mongodb database connected successfully\")\n})\n\nmongoose.connection.on('error', (error) => {\n    console.log(\"error connecting to the database\", error)\n    setTimeout(connectWithRetry, 5000)\n})\n\nconst connect = () => {\n    connectWithRetry()\n}\n\nexport default (callback) => {\n    connect()\n    callback({\n\n    })\n\n}\n"]}