{"version":3,"sources":["../../../../src/api/v1/utils/util.js"],"names":["util","dotenv","require","config","verifyreqHeader","req","res","next","headerValidation","get","process","env","headername","headervalue","console","log","respobj","errormessage","status","send","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,EAAb;AACA,IAAMC,SAASC,QAAQ,QAAR,CAAf;AACAD,OAAOE,MAAP;AACA,IAAIA,SAASD,QAAQ,eAAR,CAAb;;AAEAF,KAAKI,eAAL,GAAuB,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AACnD,QAAIJ,OAAOK,gBAAX,EAA6B;AACzB,YAAIH,IAAII,GAAJ,CAAQC,QAAQC,GAAR,CAAYC,UAApB,KAAmCF,QAAQC,GAAR,CAAYE,WAAnD,EAAgE;AAC5DC,oBAAQC,GAAR,CAAY,yBAAZ;AACAR;AACH,SAHD,MAKK;AACD,gBAAIS,UAAU,EAAd;AACAA,oBAAQC,YAAR,GAAuB,+EAAvB;AACA,mBAAOX,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,OAArB,CAAP;AACH;AACJ,KAXD,MAYK;AACDT;AACH;AAIJ,CAnBD;;AAqBAa,OAAOC,OAAP,GAAiBrB,IAAjB","file":"util.js","sourcesContent":["const util = {}\nconst dotenv = require('dotenv')\ndotenv.config()\nlet config = require('../configpath')\n\nutil.verifyreqHeader = async function (req, res, next) {\n    if (config.headerValidation) {\n        if (req.get(process.env.headername) == process.env.headervalue) {\n            console.log(\"verified---header value\")\n            next()\n        }\n\n        else {\n            let respobj = {}\n            respobj.errormessage = \"Problem handling the request. Missing required parameter(s) in request header\"\n            return res.status(401).send(respobj)\n        }\n    }\n    else {\n        next()\n    }\n\n\n\n}\n\nmodule.exports = util"]}